{"ast":null,"code":"import _regeneratorRuntime from\"/home/rafael/workspace/efecto3'60/efecto3-60/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/rafael/workspace/efecto3'60/efecto3-60/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/rafael/workspace/efecto3'60/efecto3-60/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams,Link}from\"react-router-dom\";import axios from\"axios\";import\"../styles/PageListArticles.css\";import sections from\"../data/Sections\";import data from\"../data/Data\";import Helmet from\"react-helmet\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListArticles(){var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var fechAllArticles=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(data.urlAPI,\"/articleslist/\").concat(id));case 3:res=_context.sent;setArticles(res.data);console.log(res.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fechAllArticles(){return _ref.apply(this,arguments);};}();useEffect(function(){fechAllArticles();},[id]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Helmet,{title:sections[id-1].topic,htmlAttributes:{lang:\"en\"}}),/*#__PURE__*/_jsx(\"h1\",{className:\"titleSection\",children:sections[id-1].topic}),/*#__PURE__*/_jsx(\"div\",{className:\"description-container\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"descriptionSection\",children:sections[id-1].explanation})}),/*#__PURE__*/_jsx(\"div\",{className:\"articles-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:articles.map(function(article){return/*#__PURE__*/_jsx(Link,{className:\"link-article\",to:\"/article/\"+id+\"-\"+article.articleID,children:/*#__PURE__*/_jsxs(\"div\",{className:\"article\",children:[article.cover&&/*#__PURE__*/_jsx(\"img\",{className:\"cover-article\",src:article.cover,alt:\"cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"type-article text-mod\",children:article.section}),/*#__PURE__*/_jsx(\"p\",{className:\"title-article text-mod line-clamp\",children:article.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"type-article text-mod\",children:[\"Por \",article.author]}),/*#__PURE__*/_jsx(\"p\",{className:\"date-article text-mod\",children:moment(article.debut).utc().format(\"YYYY-MM-DD\")})]})]},article.articleID)},article.articleID);})})})]});}export default ListArticles;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","axios","sections","data","Helmet","moment","ListArticles","id","articles","setArticles","fechAllArticles","get","urlAPI","res","console","log","topic","lang","explanation","map","article","articleID","cover","section","title","author","debut","utc","format"],"sources":["/home/rafael/workspace/efecto3'60/efecto3-60/src/views/ListArticles.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../styles/PageListArticles.css\";\nimport sections from \"../data/Sections\";\nimport data from \"../data/Data\";\nimport Helmet from \"react-helmet\";\nimport moment from \"moment\";\n\nfunction ListArticles() {\n  let { id } = useParams();\n  const [articles, setArticles] = useState([]);\n\n  const fechAllArticles = async () => {\n    try {\n      const res = await axios.get(`${data.urlAPI}/articleslist/${id}`);\n      setArticles(res.data);\n      console.log(res.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fechAllArticles();\n  }, [id]);\n\n  return (\n    <div>\n      <Helmet title={sections[id - 1].topic} htmlAttributes={{ lang: \"en\" }} />\n      <h1 className=\"titleSection\">{sections[id - 1].topic}</h1>\n      <div className=\"description-container\">\n        <h2 className=\"descriptionSection\">{sections[id - 1].explanation}</h2>\n      </div>\n      <div className=\"articles-container\">\n        <div className=\"wrapper\">\n          {articles.map((article) => (\n            <Link\n              key={article.articleID}\n              className=\"link-article\"\n              to={\"/article/\" + id + \"-\" + article.articleID}\n            >\n              <div className=\"article\" key={article.articleID}>\n                {article.cover && (\n                  <img\n                    className=\"cover-article\"\n                    src={article.cover}\n                    alt=\"cover\"\n                  />\n                )}\n                <div className=\"text-container\">\n                  <p className=\"type-article text-mod\">{article.section}</p>\n                  <p className=\"title-article text-mod line-clamp\">\n                    {article.title}\n                  </p>\n                  <p className=\"type-article text-mod\">Por {article.author}</p>\n                  <p className=\"date-article text-mod\">\n                    {moment(article.debut).utc().format(\"YYYY-MM-DD\")}\n                  </p>\n                </div>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListArticles;\n"],"mappings":"sZAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAO,gCAAgC,CACvC,MAAOC,SAAQ,KAAM,kBAAkB,CACvC,MAAOC,KAAI,KAAM,cAAc,CAC/B,MAAOC,OAAM,KAAM,cAAc,CACjC,MAAOC,OAAM,KAAM,QAAQ,CAAC,wFAE5B,QAASC,aAAY,EAAG,CACtB,eAAaP,SAAS,EAAE,CAAlBQ,EAAE,YAAFA,EAAE,CACR,cAAgCT,QAAQ,CAAC,EAAE,CAAC,wCAArCU,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,gBAAe,4FAAG,mLAEFT,MAAK,CAACU,GAAG,WAAIR,IAAI,CAACS,MAAM,0BAAiBL,EAAE,EAAG,QAA1DM,GAAG,eACTJ,WAAW,CAACI,GAAG,CAACV,IAAI,CAAC,CACrBW,OAAO,CAACC,GAAG,CAACF,GAAG,CAACV,IAAI,CAAC,CAAC,+EAEtBW,OAAO,CAACC,GAAG,aAAO,CAAC,oEAEtB,kBARKL,gBAAe,0CAQpB,CAEDb,SAAS,CAAC,UAAM,CACda,eAAe,EAAE,CACnB,CAAC,CAAE,CAACH,EAAE,CAAC,CAAC,CAER,mBACE,oCACE,KAAC,MAAM,EAAC,KAAK,CAAEL,QAAQ,CAACK,EAAE,CAAG,CAAC,CAAC,CAACS,KAAM,CAAC,cAAc,CAAE,CAAEC,IAAI,CAAE,IAAK,CAAE,EAAG,cACzE,WAAI,SAAS,CAAC,cAAc,UAAEf,QAAQ,CAACK,EAAE,CAAG,CAAC,CAAC,CAACS,KAAK,EAAM,cAC1D,YAAK,SAAS,CAAC,uBAAuB,uBACpC,WAAI,SAAS,CAAC,oBAAoB,UAAEd,QAAQ,CAACK,EAAE,CAAG,CAAC,CAAC,CAACW,WAAW,EAAM,EAClE,cACN,YAAK,SAAS,CAAC,oBAAoB,uBACjC,YAAK,SAAS,CAAC,SAAS,UACrBV,QAAQ,CAACW,GAAG,CAAC,SAACC,OAAO,qBACpB,KAAC,IAAI,EAEH,SAAS,CAAC,cAAc,CACxB,EAAE,CAAE,WAAW,CAAGb,EAAE,CAAG,GAAG,CAAGa,OAAO,CAACC,SAAU,uBAE/C,aAAK,SAAS,CAAC,SAAS,WACrBD,OAAO,CAACE,KAAK,eACZ,YACE,SAAS,CAAC,eAAe,CACzB,GAAG,CAAEF,OAAO,CAACE,KAAM,CACnB,GAAG,CAAC,OAAO,EAEd,cACD,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,UAAG,SAAS,CAAC,uBAAuB,UAAEF,OAAO,CAACG,OAAO,EAAK,cAC1D,UAAG,SAAS,CAAC,mCAAmC,UAC7CH,OAAO,CAACI,KAAK,EACZ,cACJ,WAAG,SAAS,CAAC,uBAAuB,kBAAMJ,OAAO,CAACK,MAAM,GAAK,cAC7D,UAAG,SAAS,CAAC,uBAAuB,UACjCpB,MAAM,CAACe,OAAO,CAACM,KAAK,CAAC,CAACC,GAAG,EAAE,CAACC,MAAM,CAAC,YAAY,CAAC,EAC/C,GACA,GAjBsBR,OAAO,CAACC,SAAS,CAkBzC,EAtBDD,OAAO,CAACC,SAAS,CAuBjB,EACR,CAAC,EACE,EACF,GACF,CAEV,CAEA,cAAef,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}